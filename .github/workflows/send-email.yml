name: Send Email via Resend

on:
  workflow_dispatch:
    inputs:
      name:
        required: true
        type: string
      answer:
        required: true
        type: string
      correct:
        required: true
        type: string

jobs:
  send_email:
    runs-on: ubuntu-latest

    steps:
      - name: Send email with Resend
        run: |
          curl -X POST "https://api.resend.com/emails" \
            -H "Authorization: Bearer ${{ secrets.RESEND_API_KEY }}" \
            -H "Content-Type: application/json" \
            -d '{
              "from": "Rebus Bot <onboarding@resend.dev>",
              "to": ["'"${{ secrets.TO_EMAIL }}"'"],
              "subject": "Ответ на ребус от '"${{ github.event.inputs.name }}"'",
              "html": "<strong>Имя:</strong> '"${{ github.event.inputs.name }}"'<br>
                       <strong>Ответ:</strong> '"${{ github.event.inputs.answer }}"'<br>
                       <strong>Правильный:</strong> '"${{ github.event.inputs.correct }}"'"
            }'
